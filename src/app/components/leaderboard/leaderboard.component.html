<div class="leaderboard">
  @if (gameState.gameCode) {
    <div class="flex-shrink-0">
      <div class="room-code-label flex-fixed">Room Code:</div>
      <div class="d-flex room-code-row noselect flex-fixed">
        <div
          class="room-code-container m-lr-auto d-flex"
          #copiedTooltip="matTooltip"
          matTooltip="Copied!"
          (mouseenter)="$event.stopImmediatePropagation()"
          (mouseleave)="$event.stopImmediatePropagation()"
        >
          <div class="d-flex code-wrapper" (click)="copyOrShare()">
            @for (letter of gameState.gameCode.split(""); track $index) {
              <div class="tile-wrapper">
                <div class="letter m-lr-auto">{{ letter }}</div>
              </div>
            }
          </div>
          <div class="copy-share-icon" (click)="copyOrShare()">
            @if (!isShareSupported) {
              <i
                class="copy-icon"
                [ngClass]="
                  isCopied ? 'fa-regular fa-circle-check' : 'fa-regular fa-copy'
                "
              ></i>
            }
            @if (isShareSupported) {
              <img src="assets/share.svg" alt="Share icon" />
            }
          </div>
        </div>
      </div>
    </div>
  }
  <div class="player-list">
    @for (player of sortedPlayers; track player.displayName) {
      <div class="player-item">
        <div class="player-emoji" [style.background-color]="player.playerColor">
          {{ player.playerEmoji }}
        </div>
        <span class="player-name">{{ player.displayName }}</span>
        <div class="wins-container">
          <span class="player-wins">
            {{ player.winCount }} {{ player.winCount === 1 ? "win" : "wins" }}
          </span>
        </div>
      </div>
    }
  </div>
</div>
