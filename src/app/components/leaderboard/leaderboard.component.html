<div class="leaderboard">
  @if (gameState.gameCode) {
    <div class="flex-shrink-0">
      <div class="room-code-label flex-fixed">Room Code:</div>
      <div class="d-flex room-code-row noselect flex-fixed">
        <div
          class="room-code-container m-lr-auto d-flex"
          #copiedTooltip="matTooltip"
          matTooltip="Copied!"
          (mouseenter)="$event.stopImmediatePropagation()"
          (mouseleave)="$event.stopImmediatePropagation()"
        >
          <div class="d-flex code-wrapper" (click)="copyOrShare()">
            @for (letter of gameState.gameCode.split(""); track $index) {
              <div class="tile-wrapper">
                <div class="letter m-lr-auto">{{ letter }}</div>
              </div>
            }
          </div>
          <div class="copy-share-icon" (click)="copyOrShare()">
            @if (!isShareSupported) {
              <i
                class="copy-icon"
                [ngClass]="
                  isCopied ? 'fa-regular fa-circle-check' : 'fa-regular fa-copy'
                "
              ></i>
            }
            @if (isShareSupported) {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                viewBox="0 -960 960 960"
                width="20px"
                fill="currentColor"
              >
                <path
                  d="M240-40q-33 0-56.5-23.5T160-120v-440q0-33 23.5-56.5T240-640h120v80H240v440h480v-440H600v-80h120q33 0 56.5 23.5T800-560v440q0 33-23.5 56.5T720-40H240Zm200-280v-447l-64 64-56-57 160-160 160 160-56 57-64-64v447h-80Z"
                />
              </svg>
            }
          </div>
        </div>
      </div>
    </div>
  }
  <div class="player-list">
    @for (player of sortedPlayers; track player.displayName) {
      <div class="player-item">
        <div class="player-emoji" [style.background-color]="player.playerColor">
          {{ player.playerEmoji }}
        </div>
        <span class="player-name">{{ player.displayName }}</span>
        <div class="wins-container">
          <span class="player-wins">
            {{ player.winCount }} {{ player.winCount === 1 ? "win" : "wins" }}
          </span>
        </div>
      </div>
    }
  </div>
</div>
